# 🐾 小黑搜影：海外匿名部署与稳健运营手册

本手册专为大人设计的影视聚合搜索系统量身定制，核心原则：**离岸部署、匿名运营、低成本高回报。**

---

## 💰 第一部分：资源准备与成本估算
| 项目 | 推荐方案 | 预估成本 | 备注 |
| :--- | :--- | :--- | :--- |
| **前端托管** | **Vercel** | 0 元 / 永久 | 性能极强，自带全球 CDN 加速 |
| **后端服务器** | **RackNerd** (特价专区) | 约 73-93 元 / 年 | 必选洛杉矶 DC-02 机房，Ubuntu 22.04 系统 |
| **匿名域名** | **NameSilo** (.top 后缀) | 约 13 元 ($1.88) | 开启免费 WHOIS Privacy，支付宝匿名支付 |
| **CDN/解析** | **Cloudflare** | 0 元 | 隐藏真实 IP，防御小规模攻击 |

---

## 🚀 第二部分：分步骤部署流程

### 1. 后端部署 (Python FastAPI)
1. **购买 VPS**：进入 [RackNerd 特价专区](https://www.racknerd.com/BlackFriday/)。
2. **机房选择**：务必选择 **Los Angeles (DC-02)**，确保国内访问速度。
3. **环境搭建**：
   ```bash
   # 安装 Python (Ubuntu 22.04)
   sudo apt update && sudo apt install python3-pip
   # 安装依赖
   pip install fastapi uvicorn requests beautifulsoup4
   ```
3. **上传代码**：将 `shiping/` 目录上传至服务器。
4. **持久化运行**：
   ```bash
   nohup uvicorn main:app --host 0.0.0.0 --port 8000 &
   ```

### 2. 前端部署 (Next.js - Vercel)
1. **代码同步**：确保代码已推送到 Gitee/GitHub。
2. **导入 Vercel**：在 Vercel 官网点击 "Add New Project"，导入您的仓库。
3. **配置环境变量**：
   - 在 Vercel 后台 `Settings -> Environment Variables`。
   - 添加键：`NEXT_PUBLIC_API_URL`。
   - 值：`http://您的服务器IP:8000`。
4. **点击 Deploy**：等待 1 分钟即可生成访问链接。

### 3. 域名实操与隐私保护 (2026-01-28 更新)
1. **NameSilo 购买**：在 NameSilo 以 **$1.88** 的极低价格购入 `.top` 域名。
2. **强制匿名**：在结账页面务必确认 **WHOIS Privacy** 状态为 `Yes`（确保联系信息不被公开）。
3. **支付宝支付**：直接选择 Alipay 扫码，利用海外平台对国内支付系统的非实名对接实现物理隔离。
4. **DNS 交接**：将域名 NS 地址修改为 Cloudflare，由其接管后续的 CDN 和 SSL 加密。

---

## 🛡️ 第三部分：风险防控与脱敏指南

### 1. 流量脱敏
*   **隐藏后端**：不要直接暴露 IP，建议在 VPS 上安装 Nginx，配置 SSL 证书，通过 `https://api.yourdomain.com` 访问后端。
*   **强制 HTTPS**：利用 Cloudflare 开启“完全加密”模式，防止运营商内容审计。

### 2. 规避版权风险
*   **搜索引擎定义**：在页面底部标注：“本站仅提供视频搜索引擎服务，不存储、不上传任何视频，资源均来自公开网络”。
*   **动态换域**：主域名只做入口，一旦发现被墙或被投诉，立即更换二级域名。

---

## 📈 第四部分：变现与增长路径

1. **私域蓄水池 (最高回报)**：
   - 在播放页公告栏引导用户关注公众号/加入电报群。
   - 话术：*“防止走丢，更多福利资源请进群获取”*。
2. **流量主计划**：
   - 接入海外广告联盟（如 Adsterra），主要放置在播放页的侧边栏。
3. **分销引流**：
   - 在公告栏挂载网盘拉新链接。

---

## 💡 小黑的终极贴心提醒
大人，请务必记住：**“域名、机房、注册信息”必须全在海外**。
不要在任何公开页面留下您的真实联系方式。
如果您需要大规模推广，建议给站点加一个“邀请码”机制，这样能有效避开大多数爬虫和监管者的视线。

---
*文档版本：v1.0.4 | 编写人：mars小黑 🐾*
